<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tidelands 2100</title>
    <!-- Add Google Font import for Space Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/bcb1fcz.css">
    <style>
        @font-face {
            font-family: 'Inclusive Sans';
            src: url('fonts/inclusive-sans-regular.woff2') format('woff2'),
                 url('fonts/inclusive-sans-regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* Remove the default font-family from here */
        }

        /* Apply font families to specific elements */
        body {
            overflow: hidden;
            height: 100vh;
            font-family: 'Inclusive Sans', sans-serif; /* Default body text font */
            cursor: none; /* Hide default cursor */
        }

        /* Apply Space Mono to headers and buttons */
        h1, h2, h3, h4, h5, h6,
        .accordion-header,
        .info-button,
        .title {
            font-family: 'Space Mono', monospace;
        }

        .container {
            display: flex;
            height: calc(100vh - 50px); /* Adjusted to make room for shorter bottom bar */
            overflow: hidden;
            position: relative;
        }

        .left-half {
            width: 50%;
            height: 100%;
            position: relative;
            overflow: hidden;
            border-right: 1px solid #0900BA;
        }

        .image-sequence {
            height: 100%;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .image-sequence img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: none;
        }

        .title {
            position: absolute;
            top: 0;
            left: 0;
            color: #0900BA;
            font-size: 20px;
            z-index: 100;
            background-color: #E6E7E8;
            outline: 1px solid #0900BA;
            padding: 10px 15px;
            }
        .right-half {
            width: 50%;
            height: 100%;
            background-color: #D1D3D4;
            overflow: hidden;
            position: relative;
        }

        .accordion {
            width: 100%;
            position: relative;
        }

        .accordion-item {
            width: 100%;
            transition: transform 0.5s ease;
            position: absolute;
            left: 0;
            outline: 1px solid #0900BA;
        }

        .accordion-header {
            height: 100px;
            z-index: 100;
            background-color: #e9e9e9;
            color: black;
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-size: 25px;
            font-weight: normal;
            position: relative;
            z-index: 10; /* Ensure headers are always above content */
        }

        .accordion-header:hover {
            background: #c3ff00;
            outline: 1px solid
        }

        .accordion-content {
            background-color: #e9e9e9;
            max-height: 0;
            overflow-y: auto;
            transition: max-height 0.5s ease;
            position: relative;
            z-index: 5; /* Content sits below headers */
        }

        .content-inner {
            padding: 20px;
        }

        .content-inner h2 {
            margin-bottom: 15px;
        }

        .content-inner p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .content-inner img {
            max-width: 100%;
            height: auto;
            margin: 15px 0;
        }

        .accordion-item.active .accordion-content {
            max-height: calc(100vh - 300px); /* Adjusted for 100px header height and 50px bottom bar */
            overflow-y: auto;
        }

        /* Bottom Bar Styles */
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background-color: #e9e9e9;
            border-top: 1px solid #0900BA;
            display: flex;
            align-items: center;
            padding: 0 20px;
            z-index: 10000;
        }

        .info-button {
            color: #0900BA;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid #0900BA;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            background-color: transparent;
            font-weight: bold;
            font-size: 20px;
        }

        .divider {
            height: 60%;
            width: 1px;
            background-color: black;
            margin: 0 20px;
        }

        .timeline-container {
            flex-grow: 1;
            height: 12px;
            border: 1px solid black;
            background-color: #f0f0f0;
            position: relative;
            overflow: hidden;
        }

        .timeline-progress {
            height: 100%;
            width: 0%; /* Will be updated via JS */
            background: linear-gradient(to right, #c3ff00, #0000ff);
            transition: width 0.3s ease;
        }

        /* Overlay and Modal Styles */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            overflow-y: auto;
            padding: 90px 0;
        }

        .info-modal {
            position: relative;
            width: 80%;
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border: 1px solid black;
            border-radius: 5px;
            z-index: 2001;
            display: none;
        }

        .info-content {
            padding: 30px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .info-section {
            margin-bottom: 40px;
        }

        .info-section h2 {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }

        .info-section p {
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .top-gradient {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 35%;
            background: linear-gradient(to bottom, rgba(197, 255, 25, 0.935), transparent);
            z-index: 50; /* Above images but below title */
            pointer-events: none; /* Allow interaction with elements below */
        }

        .bottom-gradient {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 25%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.47), transparent);
            z-index: 50; /* Above images but below title */
            pointer-events: none; /* Allow interaction with elements below */
        }
            .crosshair {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
        }

            .vertical,
            .horizontal {
            position: fixed;
            background: white;
        }

            .vertical {
            width: 1px;
            height: 100vh;
        }

            .horizontal {
            height: 1px;
            width: 100vw;
        }

            .dot {
            position: fixed;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: white;
            transform: translate(-50%, -50%);
        }
            /* Mobile-specific styles */
    @media (max-width: 768px) {
        /* Change layout from side-by-side to stacked */
        .container {
            flex-direction: column;
            height: auto;
            overflow: auto;
        }
        
        /* Title bar spans full width */
        .title {
            position: fixed; /* Fixed position at top */
            top: 0;
            left: 0;
            width: 100%; /* Full width */
            display: flex;
            justify-content: space-between; /* Text left, button right */
            align-items: center;
            padding: 10px 15px;
            z-index: 1000; /* Ensure it stays on top */
            height: 50px; /* Fixed height */
        }
        
        /* Move info button into the title bar */
        .info-button {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* Hide the bottom bar on mobile */
        .bottom-bar {
            display: none;
        }
        
        /* Adjust content layout */
        .left-half, .right-half {
            width: 100%;
            border-right: none;
        }
        
        /* Accordion starts below the title bar */
        .right-half {
            order: 1; /* Display accordion first */
            margin-top: 50px; /* Space for fixed title bar */
        }
        
        /* Image/GIF comes after accordion */
        .left-half {
            order: 2;
            height: 50vh; /* Half viewport height for the image */
        }
        
        /* Adjust accordion sizing */
        .accordion {
            width: 100%;
        }
        
        /* Handle accordion positioning differently */
        .accordion-item {
            position: relative; /* Not absolute positioning on mobile */
            transform: none !important; /* Override any transform from JS */
            margin-bottom: 1px; /* Add slight spacing between items */
        }
        
        .accordion-header {
            height: 70px; /* Slightly smaller on mobile */
        }
        
        /* Handle expanded content differently */
        .accordion-item.active .accordion-content {
            max-height: 70vh; /* Allow more space */
        }
        
        /* Adjust overlay for mobile */
        .info-modal {
            width: 95%;
            margin: 70px auto 20px;
            max-height: 80vh;
        }
        
        /* Make grid single column on mobile */
        .info-grid {
            grid-template-columns: 1fr;
            gap: 15px;
        }
    }
    </style>
</head>
<body>
    <div class="crosshair">
        <div class="vertical"></div>
        <div class="horizontal"></div>
        <div class="dot"></div>
      </div>
    <div class="container">
        <div class="left-half">
            <div class="title">TIDELANDS 2100</div>
            <div class="top-gradient"></div>
            <div class="bottom-gradient"></div>
            <div class="image-sequence" id="imageSequence">
                <!-- Placeholder images will be populated by JavaScript -->
                <img src="images/1.gif" alt="Tidelands frame 1" data-frame="1">
                <img src="images/2.gif" alt="Tidelands frame 2" data-frame="2">
                <img src="images/3.gif" alt="Tidelands frame 3" data-frame="3">
                <img src="images/4.gif" alt="Tidelands frame 4" data-frame="4">
                <img src="images/5.gif" alt="Tidelands frame 5" data-frame="5">
                <img src="images/6.gif" alt="Tidelands frame 6" data-frame="6">
                <img src="images/7.gif" alt="Tidelands frame 7" data-frame="7">
                <img src="images/8.gif" alt="Tidelands frame 8" data-frame="8">
                <img src="images/9.gif" alt="Tidelands frame 9" data-frame="9">
                <img src="images/10.gif" alt="Tidelands frame 10" data-frame="10">
                <img src="images/11.gif" alt="Tidelands frame 11" data-frame="11">
                <img src="images/12.gif" alt="Tidelands frame 12" data-frame="12">
                <img src="images/13.gif" alt="Tidelands frame 13" data-frame="13">
                <img src="images/14.gif" alt="Tidelands frame 14" data-frame="14">
                <img src="images/15.gif" alt="Tidelands frame 15" data-frame="15">
                <img src="images/16.gif" alt="Tidelands frame 16" data-frame="16">
                <img src="images/17.gif" alt="Tidelands frame 17" data-frame="17">
                <img src="images/18.gif" alt="Tidelands frame 18" data-frame="18">
                <img src="images/19.gif" alt="Tidelands frame 19" data-frame="19">
                <img src="images/20.gif" alt="Tidelands frame 20" data-frame="20">
            </div>
        </div>
        <div class="right-half">
            <div class="accordion" id="accordion">
                <div class="accordion-item" id="item1">
                    <div class="accordion-header">OVERVIEW</div>
                    <div class="accordion-content">
                        <div class="content-inner">
                            <p>TIDELANDS is an extended reality (XR) artwork that immerses audiences in a speculative climate future along Potter’s Pond, Rhode Island—a coastline projected to be underwater by century’s end. Set in 2100, the piece follows a day in the life of a coastal community that has reclaimed a landscape once abandoned after flooding, evacuation, and state withdrawal. The narrative unfolds during an annual sealife harvest festival—a civic ritual rooted in regional and Indigenous traditions, reconfigured through reciprocity with water, weather, and more-than-human life.<br><br>
                                <img src="images/overview.png" alt="SCUP Aquaculture"><br><br>
                                Through acts of gathering, cooking, and care, the rhythms of this floating village surface and take shape. Audiences move through interconnected sites: tidal greenhouses with salt-adapted crops, a wind-powered shellfish hatchery, a thriving fish co-op. Some are protopic extensions of current adaptive strategies; others emerge from the emotional logic of place—rituals of grief, memory, and reinvention. 
                                Built in Unity, TIDELANDS merges NOAA flood projections, 3D ecological scans, field-recorded soundscapes, site-specific architecture, and oral histories into an immersive environment rooted in real people and place. Growing from a multi-year collaboration with RI’s blue sector, it explores how XR can serve as both a storytelling medium and a civic tool for place-based co-creation of climate futures.<br><br>
                                How do we want to live, when we can no longer live as we do now? Rather than accept coastal abandonment as inevitable, TIDELANDS offers a counter-imaginary to coastal displacement: a vision of climate resilience where our local communities with deep ties to the shore adapt—and even thrive—in the face of rising seas.</p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item" id="item2">
                    <div class="accordion-header">BACKGROUND</div>
                    <div class="accordion-content">
                        <div class="content-inner">
                            <p>SCUP Aquaculture (2022–2025) was a design and research collective investigating how ocean infrastructure might serve both ecological regeneration and the livelihoods of coastal communities. Operating in the fraught space between offshore wind development and traditional fisheries, SCUP proposed a socio-technical solution: co-habited aquaculture platforms occupying underutilized zones around wind turbines. Developed in collaboration with aquaculturists, fisheries scientists, and wind developers, the first prototype—a modular, low-cost system of oyster cages, mussel lines, and buoys—was designed to strengthen Rhode Island’s food resilience by enabling sustainable protein cultivation in open ocean environments.<br><br>
                                <img src="images/scup.png" alt="SCUP Aquaculture"><br><br>
                            But SCUP was never just a technical intervention—it was a relational one. Built through interviews, workshops, and long-term partnerships with local fishers, scientists, and policymakers, the project revealed both the potential and the profound constraints of implementing such solutions at scale. Corporate control of ocean leases, a fractured regulatory system, and rigid insurance and liability frameworks posed structural barriers that innovation alone couldn’t solve.<br><br>
                            These realities gave rise to Tidelands 2100—a deeper inquiry into the political, social, and economic conditions that must shift for projects like SCUP to truly take root. Where SCUP was a first-phase prototype, Tidelands 2100 is a generative framework—a co-created process for imagining coastal futures grounded not in top-down projections, but in the lived experiences, knowledge, and agency of the communities who call these coastlines home.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item" id="item3">
                    <div class="accordion-header">VISION</div>
                    <div class="accordion-content">
                        <div class="content-inner">
                            <p>Based on NOAA and state-level climate projections, Potter’s Pond—an ecologically rich estuary and working waterfront in South Kingstown, RI—is expected to face up to nine feet of sea level rise over the next 75 years. This future is neither abstract nor benign. It is already reshaping a top-down narrative of coastal displacement and migration: redrawing shorelines, redefining insurance policies, and informing planning frameworks that determine who and what is worth saving.<br><br>
                            These narratives of managed retreat too often ignore the lived knowledge, cultural histories, and ecological relationships that define place for coastal communities. For some, leaving is not simply a practical challenge; it is a loss of identity, practice, and way of life. It is erasure.<br><br>
                            Tidelands challenges this logic. It resists the flattening of adaptation into evacuation plans and policy briefings, and instead invites local residents to envision futures beyond displacement. Through interviews, co-writing sessions, and workshops, this project brings aquaculturists, fishers, chefs, scientists, and Indigenous stewards into the imagination of new civic ecologies—expansive futures that cultivate healthier ways of knowing and being with our human and more-than-human neighbors.<br><br>
                            By surfacing stories often excluded from formal planning processes, Tidelands enables a model of climate adaptation that is not reactive, but regenerative—rooted in relational knowledge and lived connection to a changing coast. Through the medium of XR, we aim to foster not just environmental resilience, but social transformation—where communities become agents in imagining and enacting their own futures.</p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item" id="item4">
                    <div class="accordion-header">FIELD NOTES</div>
                    <div class="accordion-content">
                        <div class="content-inner">
                            <p>Check back for field notes!<br><br>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-bar">
        <button class="info-button" id="infoButton">i</button>
        <div class="divider"></div>
        <div class="timeline-container">
            <div class="timeline-progress" id="timelineProgress"></div>
        </div>
    </div>

    <div class="overlay" id="overlay">
        <div class="info-modal" id="infoModal">
            <div class="info-content">
                <div class="info-section">
                    <h2>ABOUT</h2>
                    <div class="info-grid">
                        <div>
                        </div>
                        <div>
                        </div>
                        <div>
                        </div>
                        </div>
                        </div>
                <div class="info-section">
                    <h2>TEAM</h2>
                    <div class="info-grid">
                        <div>
                            <p><strong>Annie Chen</strong><br>Project Director</p>
                            <p><strong>Ryan Lettieri</strong><br>Web Developer & Worldbuilder</p>


                        </div>
                        <div>
                            <p><strong>Zoe Lee</strong><br>Producer</p>
                        </div>
                        <div>
                            <p><strong>Ellen Fritz</strong><br>XR Artist & Producer</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
            const crosshair = document.querySelector('.crosshair');
            const vertical = document.querySelector('.vertical');
            const horizontal = document.querySelector('.horizontal');
            const dot = document.querySelector('.dot');

            document.addEventListener('mousemove', (e) => {
            const x = e.clientX;
            const y = e.clientY;

            vertical.style.left = `${x}px`;
            horizontal.style.top = `${y}px`;
            dot.style.left = `${x}px`;
            dot.style.top = `${y}px`;
            });

        document.addEventListener('DOMContentLoaded', function() {
            
            // Image sequence scrolling logic
            const imageSequence = document.getElementById('imageSequence');
            const images = imageSequence.querySelectorAll('img');
            const totalFrames = images.length;
            let currentFrame = 0;
            
            // Scroll control variables
            let lastScrollTime = 0;
            const scrollCooldown = 0; // milliseconds between allowed scroll actions
            
            // Timeline elements
            const timelineProgress = document.getElementById('timelineProgress');
            
            // Info modal elements
            const infoButton = document.getElementById('infoButton');
            const overlay = document.getElementById('overlay');
            const infoModal = document.getElementById('infoModal');
            
            // Show the first frame initially
            images[0].style.opacity = 1;
            
            // Update timeline based on current frame
            function updateTimeline() {
                const progressPercentage = (currentFrame / (totalFrames - 1)) * 100;
                timelineProgress.style.width = `${progressPercentage}%`;
            }
            
            // Handle scroll on left side to control image sequence
            document.querySelector('.left-half').addEventListener('wheel', function(e) {
                e.preventDefault();
                
                // Check if enough time has passed since last scroll
                const now = Date.now();
                if (now - lastScrollTime < scrollCooldown) {
                    return; // Exit if scrolling too quickly
                }
                
                // Determine scroll direction, but use a threshold
                const scrollThreshold = 2; // Adjust based on testing
                
                // Only change frame if scroll amount exceeds threshold
                if (Math.abs(e.deltaY) >= scrollThreshold) {
                    const direction = e.deltaY > 0 ? 1 : -1;
                    
                    // Calculate new frame, but prevent wrapping around
                    let newFrame = currentFrame + direction;
                    
                    // Ensure we stay within bounds - don't loop
                    if (newFrame >= 0 && newFrame < totalFrames) {
                        // Hide current frame
                        images[currentFrame].style.opacity = 0;
                        
                        // Update current frame
                        currentFrame = newFrame;
                        
                        // Show new frame
                        images[currentFrame].style.opacity = 1;
                        
                        // Update timeline
                        updateTimeline();
                        
                        // Update last scroll time
                        lastScrollTime = now;
                    }
                }        
            });
            
            // Accordion functionality
            const accordion = document.getElementById('accordion');
            const accordionItems = document.querySelectorAll('.accordion-item');
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            const headerHeight = 100; // Match this to the .accordion-header height in CSS
            
            // Position the accordion items initially - stacked with no gaps
            function positionItemsDefault() {
                accordionItems.forEach((item, i) => {
                    item.style.transform = `translateY(${i * headerHeight}px)`;
                    item.style.zIndex = `${accordionItems.length - i}`; // Higher items have higher z-index
                });
            }
            
            // Position when an item is active - maintain stacking order at bottom
            function positionItemsWithActive(activeIndex) {
                const viewportHeight = window.innerHeight - 50; // Adjust for bottom bar
                const itemsBelow = accordionItems.length - activeIndex - 1;
                const bottomStackHeight = itemsBelow * headerHeight;
                
                // Calculate the maximum space available for the content
                const maxContentHeight = viewportHeight - ((activeIndex + 1) * headerHeight) - bottomStackHeight;
                
                // Set the active content's max height
                const activeContent = accordionItems[activeIndex].querySelector('.accordion-content');
                activeContent.style.maxHeight = `${maxContentHeight}px`;
                
                accordionItems.forEach((item, i) => {
                    if (i <= activeIndex) {
                        // Items before and including active stay at top
                        item.style.transform = `translateY(${i * headerHeight}px)`;
                    } else {
                        // Items after active go to bottom - calculate this position from the bottom of viewport
                        const bottomPos = viewportHeight - bottomStackHeight + ((i - activeIndex - 1) * headerHeight);
                        item.style.transform = `translateY(${bottomPos}px)`;
                    }
                });
            }
                            // Function to check if we're on mobile and adjust layout if needed
                function handleMobileLayout() {
                    const isMobile = window.innerWidth <= 768;
                    
                    if (isMobile) {
                        // Mobile-specific JavaScript adjustments
                        
                        // Move info button to the title bar
                        const infoButton = document.getElementById('infoButton');
                        const titleBar = document.querySelector('.title');
                        
                        // Only move if not already moved
                        if (infoButton.parentElement.classList.contains('bottom-bar')) {
                            titleBar.appendChild(infoButton);
                        }
                        
                        // Change accordion behavior for mobile
                        const accordionItems = document.querySelectorAll('.accordion-item');
                        
                        // Reset all positioning that might be set by desktop JS
                        accordionItems.forEach((item) => {
                            item.style.transform = 'none';
                            item.style.position = 'relative';
                        });
                        
                        // Handle active item differently on mobile
                        const activeItem = document.querySelector('.accordion-item.active');
                        if (activeItem) {
                            // Scroll to the active item
                            activeItem.scrollIntoView({ behavior: 'smooth' });
                        }
                    } else {
                        // Desktop layout - restore info button to bottom bar if needed
                        const infoButton = document.getElementById('infoButton');
                        const bottomBar = document.querySelector('.bottom-bar');
                        
                        // Only move if it's been moved to title
                        if (infoButton.parentElement.classList.contains('title')) {
                            // Insert at the beginning of bottom bar
                            bottomBar.insertBefore(infoButton, bottomBar.firstChild);
                        }
                        
                        // Restore desktop accordion behavior
                        const activeIndex = Array.from(accordionItems).findIndex(item => item.classList.contains('active'));
                        
                        if (activeIndex >= 0) {
                            positionItemsWithActive(activeIndex);
                        } else {
                            positionItemsDefault();
                        }
                    }
                }
            // Initialize default positions
            positionItemsDefault();
            
            // Add click event to headers
            accordionHeaders.forEach((header, index) => {
                header.addEventListener('click', function() {
                    const item = this.parentElement;
                    const wasActive = item.classList.contains('active');
                    const isMobile = window.innerWidth <= 768;
                    
                    // Close all items first
                    accordionItems.forEach(accItem => {
                        accItem.classList.remove('active');
                        accItem.querySelector('.accordion-content').style.maxHeight = '0';
                    });
                    
                    // If clicked item wasn't active before, open it
                    if (!wasActive) {
                        item.classList.add('active');
                        const content = item.querySelector('.accordion-content');
                        
                        if (isMobile) {
                            content.style.maxHeight = '70vh'; // Mobile height
                            // Scroll to show the opened item
                            setTimeout(() => {
                                item.scrollIntoView({ behavior: 'smooth' });
                            }, 100);
                        } else {
                            content.style.maxHeight = `calc(100vh - ${headerHeight + 150}px)`; // Desktop height
                            positionItemsWithActive(index); // Desktop positioning
                        }
                    } else if (!isMobile) {
                        // If it was active and we're closing it on desktop, return to default positions
                        positionItemsDefault();
                    }
                });
            });
            
            // Info button toggle
            let infoOpen = false;
            
            infoButton.addEventListener('click', function() {
                if (!infoOpen) {
                    // Open info modal
                    infoButton.innerHTML = "x";
                    overlay.style.display = "block";
                    infoModal.style.display = "block";
                    infoOpen = true;
                } else {
                    // Close info modal
                    infoButton.innerHTML = "i";
                    overlay.style.display = "none";
                    infoModal.style.display = "none";
                    infoOpen = false;
                }
            });
            
            // Close modal when clicking overlay (but not when clicking on the modal itself)
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    infoButton.innerHTML = "i";
                    overlay.style.display = "none";
                    infoModal.style.display = "none";
                    infoOpen = false;
                }
            });
            
            // Handle window resize
            window.addEventListener('resize', function() {
            handleMobileLayout();
            
            // Keep your existing resize code here
            const activeIndex = Array.from(accordionItems).findIndex(item => item.classList.contains('active'));
            
            if (activeIndex >= 0 && window.innerWidth > 768) { // Only run on desktop
                positionItemsWithActive(activeIndex);
            } else if (window.innerWidth > 768) { // Only run on desktop
                positionItemsDefault();
            }
        });
            handleMobileLayout();
            // Auto-open the Overview section (first accordion item)
            const firstItem = accordionItems[0];
            firstItem.classList.add('active');
            const firstContent = firstItem.querySelector('.accordion-content');
            positionItemsWithActive(0); // Position items with first item (index 0) active
        });
    </script>
</body>
</html>